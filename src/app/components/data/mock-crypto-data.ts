import { HeatmapData } from '../live-prices/heat-map/heat-map.component';
import { CryptoData } from '../models/crypto.interface';

export type CryptoCategory =
  | 'store-of-value'
  | 'smart-contracts'
  | 'defi'
  | 'layer2';

// Mock cryptocurrency data
export const mockCryptoData: CryptoData[] = [
  {
    id: '1',
    rank: 1,
    name: 'Bitcoin',
    symbol: 'BTC',
    icon: 'assets/images/btc.png',
    price: 67234.5,
    change24h: 3.45,
    change7d: 5.2,
    marketCap: 1316000000000,
    volume24h: 28500000000,
    circulatingSupply: 19500000,
    chartData: [65000, 66000, 67000, 67234.5],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '2',
    rank: 2,
    name: 'Ethereum',
    symbol: 'ETH',
    icon: 'assets/images/eth.png',
    price: 3456.78,
    change24h: 5.23,
    change7d: 8.1,
    marketCap: 415000000000,
    volume24h: 15200000000,
    circulatingSupply: 120000000,
    chartData: [3200, 3300, 3400, 3456.78],
    isFavorite: false,
    categoryId: 'smart-contracts',
  },
  {
    id: '3',
    rank: 3,
    name: 'Tether',
    symbol: 'USDT',
    icon: 'assets/images/usdt.png',
    price: 1.0,
    change24h: 0.01,
    change7d: 0.02,
    marketCap: 120000000000,
    volume24h: 45600000000,
    circulatingSupply: 120000000000,
    chartData: [0.99, 1.0, 1.0, 1.0],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '4',
    rank: 4,
    name: 'Binance Coin',
    symbol: 'BNB',
    icon: 'assets/images/bnb.png',
    price: 598.23,
    change24h: -2.34,
    change7d: -1.8,
    marketCap: 89000000000,
    volume24h: 1200000000,
    circulatingSupply: 150000000,
    chartData: [610, 600, 590, 598.23],
    isFavorite: false,
    categoryId: 'defi',
  },
  {
    id: '5',
    rank: 5,
    name: 'Solana',
    symbol: 'SOL',
    icon: 'assets/images/sol.png',
    price: 154.32,
    change24h: 8.76,
    change7d: 12.3,
    marketCap: 71000000000,
    volume24h: 8900000000,
    circulatingSupply: 460000000,
    chartData: [140, 145, 150, 154.32],
    isFavorite: false,
    categoryId: 'smart-contracts',
  },
  {
    id: '6',
    rank: 6,
    name: 'Ripple',
    symbol: 'XRP',
    icon: 'assets/images/xrp.png',
    price: 0.5234,
    change24h: -1.23,
    change7d: 2.1,
    marketCap: 29000000000,
    volume24h: 1100000000,
    circulatingSupply: 55000000000,
    chartData: [0.52, 0.53, 0.52, 0.5234],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '7',
    rank: 7,
    name: 'Cardano',
    symbol: 'ADA',
    icon: 'assets/images/ada.png',
    price: 0.4567,
    change24h: 2.11,
    change7d: 4.5,
    marketCap: 16000000000,
    volume24h: 450000000,
    circulatingSupply: 35000000000,
    chartData: [0.44, 0.45, 0.46, 0.4567],
    isFavorite: false,
    categoryId: 'smart-contracts',
  },
  {
    id: '8',
    rank: 8,
    name: 'Dogecoin',
    symbol: 'DOGE',
    icon: 'assets/images/doge.png',
    price: 0.1234,
    change24h: -4.56,
    change7d: -2.3,
    marketCap: 17500000000,
    volume24h: 890000000,
    circulatingSupply: 140000000000,
    chartData: [0.13, 0.125, 0.12, 0.1234],
    isFavorite: false,
    categoryId: 'defi',
  },
  {
    id: '9',
    rank: 9,
    name: 'Polygon',
    symbol: 'MATIC',
    icon: 'assets/images/matic.png',
    price: 0.8765,
    change24h: 6.43,
    change7d: 9.2,
    marketCap: 8200000000,
    volume24h: 320000000,
    circulatingSupply: 9400000000,
    chartData: [0.82, 0.84, 0.86, 0.8765],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '10',
    rank: 10,
    name: 'Avalanche',
    symbol: 'AVAX',
    icon: 'assets/images/avax.png',
    price: 28.45,
    change24h: 3.21,
    change7d: 7.8,
    marketCap: 10500000000,
    volume24h: 280000000,
    circulatingSupply: 370000000,
    chartData: [27, 27.5, 28, 28.45],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '11',
    rank: 11,
    name: 'Chainlink',
    symbol: 'LINK',
    icon: 'assets/images/link.png',
    price: 14.23,
    change24h: -0.87,
    change7d: 1.5,
    marketCap: 13800000000,
    volume24h: 520000000,
    circulatingSupply: 970000000,
    chartData: [14.5, 14.3, 14.2, 14.23],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '12',
    rank: 12,
    name: 'Uniswap',
    symbol: 'UNI',
    icon: 'assets/images/uni.png',
    price: 6.78,
    change24h: 4.32,
    change7d: 6.1,
    marketCap: 8900000000,
    volume24h: 380000000,
    circulatingSupply: 1300000000,
    chartData: [6.5, 6.6, 6.7, 6.78],
    isFavorite: false,
    categoryId: 'defi',
  },
  {
    id: '13',
    rank: 13,
    name: 'Litecoin',
    symbol: 'LTC',
    icon: 'assets/images/ltc.png',
    price: 72.34,
    change24h: 1.45,
    change7d: 3.2,
    marketCap: 6300000000,
    volume24h: 420000000,
    circulatingSupply: 87000000,
    chartData: [71, 71.5, 72, 72.34],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '14',
    rank: 14,
    name: 'Aave',
    symbol: 'AAVE',
    icon: 'assets/images/aave.png',
    price: 89.12,
    change24h: -2.1,
    change7d: 0.8,
    marketCap: 6500000000,
    volume24h: 180000000,
    circulatingSupply: 73000000,
    chartData: [91, 90, 89, 89.12],
    isFavorite: false,
    categoryId: 'defi',
  },
  {
    id: '15',
    rank: 15,
    name: 'Arbitrum',
    symbol: 'ARB',
    icon: 'assets/images/arb.png',
    price: 1.23,
    change24h: 5.67,
    change7d: 8.9,
    marketCap: 3900000000,
    volume24h: 150000000,
    circulatingSupply: 3200000000,
    chartData: [1.15, 1.18, 1.21, 1.23],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '16',
    rank: 16,
    name: 'Bitcoin Cash',
    symbol: 'BCH',
    icon: 'assets/images/bch.png',
    price: 245.67,
    change24h: -0.89,
    change7d: 2.3,
    marketCap: 3200000000,
    volume24h: 95000000,
    circulatingSupply: 13000000,
    chartData: [248, 246, 245, 245.67],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '17',
    rank: 17,
    name: 'Compound',
    symbol: 'COMP',
    icon: 'assets/images/comp.png',
    price: 45.23,
    change24h: 3.45,
    change7d: 5.6,
    marketCap: 1700000000,
    volume24h: 65000000,
    circulatingSupply: 38000000,
    chartData: [43, 44, 45, 45.23],
    isFavorite: false,
    categoryId: 'defi',
  },
  {
    id: '18',
    rank: 18,
    name: 'Stellar',
    symbol: 'XLM',
    icon: 'assets/images/xlm.png',
    price: 0.1234,
    change24h: 1.23,
    change7d: 2.8,
    marketCap: 3100000000,
    volume24h: 125000000,
    circulatingSupply: 25000000000,
    chartData: [0.12, 0.122, 0.123, 0.1234],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '19',
    rank: 19,
    name: 'Optimism',
    symbol: 'OP',
    icon: 'assets/images/op.png',
    price: 2.34,
    change24h: 7.89,
    change7d: 11.2,
    marketCap: 8700000000,
    volume24h: 340000000,
    circulatingSupply: 3700000000,
    chartData: [2.1, 2.2, 2.3, 2.34],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '20',
    rank: 20,
    name: 'Monero',
    symbol: 'XMR',
    icon: 'assets/images/xmr.png',
    price: 156.78,
    change24h: -1.45,
    change7d: 0.9,
    marketCap: 3400000000,
    volume24h: 180000000,
    circulatingSupply: 22000000,
    chartData: [159, 158, 157, 156.78],
    isFavorite: false,
    categoryId: 'store-of-value',
  },
  {
    id: '21',
    rank: 21,
    name: 'Loopring',
    symbol: 'LRC',
    icon: 'assets/images/lrc.png',
    price: 0.2345,
    change24h: 4.56,
    change7d: 6.7,
    marketCap: 4500000000,
    volume24h: 210000000,
    circulatingSupply: 19000000000,
    chartData: [0.22, 0.23, 0.234, 0.2345],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '22',
    rank: 22,
    name: 'Cosmos',
    symbol: 'ATOM',
    icon: 'assets/images/atom.png',
    price: 8.45,
    change24h: 2.34,
    change7d: 4.1,
    marketCap: 2800000000,
    volume24h: 190000000,
    circulatingSupply: 330000000,
    chartData: [8.2, 8.3, 8.4, 8.45],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '23',
    rank: 23,
    name: 'Fantom',
    symbol: 'FTM',
    icon: 'assets/images/ftm.png',
    price: 0.3456,
    change24h: -3.21,
    change7d: -1.2,
    marketCap: 2300000000,
    volume24h: 85000000,
    circulatingSupply: 6700000000,
    chartData: [0.36, 0.35, 0.34, 0.3456],
    isFavorite: false,
    categoryId: 'layer2',
  },
  {
    id: '24',
    rank: 24,
    name: 'Algorand',
    symbol: 'ALGO',
    icon: 'assets/images/algo.png',
    price: 0.1234,
    change24h: 1.89,
    change7d: 3.4,
    marketCap: 6100000000,
    volume24h: 165000000,
    circulatingSupply: 49000000000,
    chartData: [0.12, 0.122, 0.123, 0.1234],
    isFavorite: false,
    categoryId: 'layer2',
  },
];

export const mockHeatmapData: HeatmapData = {
  categories: [
    {
      id: 'store-of-value',
      name: 'Store Of Value',
      description: 'Digital assets that serve as stores of value',
    },
    {
      id: 'smart-contracts',
      name: 'Smart Contracts',
      description: 'Platforms supporting smart contract functionality',
    },
    {
      id: 'exchanges',
      name: 'Exchanges',
      description: 'Exchange tokens and DeFi protocols',
    },
    {
      id: 'meme',
      name: 'Meme',
      description: 'Meme coins and community-driven tokens',
    },
    {
      id: 'layer-1',
      name: 'Layer 1',
      description: 'Base layer blockchain protocols',
    },
    {
      id: 'defi',
      name: 'DeFi',
      description: 'Decentralized finance protocols',
    },
  ],
  cryptos: mockCryptoData,
};

// Function to generate random price changes (for refresh simulation)
export const generateRandomPriceChanges = (
  data: CryptoData[]
): CryptoData[] => {
  return data.map((asset) => ({
    ...asset,
    change24h: asset.change24h + (Math.random() - 0.5) * 2,
    price: asset.price * (1 + (Math.random() - 0.5) * 0.02),
    volume24h: asset.volume24h * (1 + (Math.random() - 0.5) * 0.1),
  }));
};

// Simulate API call with delay
export const fetchCryptoData = async (
  delay: number = 1500
): Promise<CryptoData[]> => {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(generateRandomPriceChanges(mockCryptoData));
    }, delay);
  });
};
