<div
  class="absolute transition-all duration-300 cursor-pointer group"
  [ngStyle]="getBubbleStyle()"
  (click)="onBubbleClick()"
  (mouseenter)="onBubbleHover($event, true)"
  (mouseleave)="onBubbleHover($event, false)"
>
  <div
    class="w-full h-full rounded-full flex flex-col items-center justify-center relative overflow-visible transition-all duration-300"
    [ngStyle]="getBubbleBackgroundStyle()"
  >
    <!-- Ring/Border -->
    <div 
      class="absolute inset-0 rounded-full pointer-events-none"
      [ngStyle]="getBubbleRingStyle()"
    ></div>

    <!-- Glass shine effect -->
    <div 
      class="absolute inset-0 rounded-full pointer-events-none"
      style="background: radial-gradient(ellipse 80% 40% at 30% 20%, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0.15) 35%, transparent 60%)"
    ></div>

    <!-- Content wrapper -->
    <div class="relative z-10 flex flex-col items-center justify-center">
      <!-- Icon -->
      <div
        *ngIf="node.radius > 40"
        class="rounded-full mb-1 flex items-center justify-center shadow-lg relative"
        [ngStyle]="getIconStyle()"
      >
        <span class="text-white drop-shadow-sm">{{ asset.symbol.charAt(0) }}</span>
      </div>
      
      <!-- Symbol -->
      <div
        class="text-white text-center drop-shadow-lg"
        [ngStyle]="getSymbolStyle()"
      >
        {{ asset.symbol }}
      </div>
      
      <!-- Change percentage -->
      <div
        class="text-white/95 text-center flex items-center gap-0.5 drop-shadow-md"
        [ngStyle]="getChangeStyle()"
      >
        {{ formatChange(asset.change24h) }}
      </div>
    </div>

    <!-- Outer border rim -->
    <div 
      class="absolute inset-0 rounded-full pointer-events-none"
      [ngStyle]="getBorderStyle()"
    ></div>
  </div>
</div>
